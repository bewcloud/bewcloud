/* esm.sh - @jsr/std__path@1.1.4/windows/normalize */
import{assertArg as m}from"../_common/normalize.mjs";import{CHAR_COLON as u}from"../_common/constants.mjs";import{normalizeString as A}from"../_common/normalize_string.mjs";import{isPathSeparator as o,isWindowsDeviceRoot as C}from"./_util.mjs";import{fromFileUrl as $}from"./from-file-url.mjs";function v(r){r instanceof URL&&(r=$(r)),m(r);let f=r.length,l=0,n,s=!1,c=r.charCodeAt(0);if(f>1)if(o(c))if(s=!0,o(r.charCodeAt(1))){let e=2,t=e;for(;e<f&&!o(r.charCodeAt(e));++e);if(e<f&&e!==t){let d=r.slice(t,e);for(t=e;e<f&&o(r.charCodeAt(e));++e);if(e<f&&e!==t){for(t=e;e<f&&!o(r.charCodeAt(e));++e);if(e===f)return`\\\\${d}\\${r.slice(t)}\\`;e!==t&&(n=`\\\\${d}\\${r.slice(t,e)}`,l=e)}}}else l=1;else C(c)&&r.charCodeAt(1)===u&&(n=r.slice(0,2),l=2,f>2&&o(r.charCodeAt(2))&&(s=!0,l=3));else if(o(c))return"\\";let i;return l<f?i=A(r.slice(l),!s,"\\",o):i="",i.length===0&&!s&&(i="."),i.length>0&&o(r.charCodeAt(f-1))&&(i+="\\"),n===void 0?s?i.length>0?`\\${i}`:"\\":i:s?i.length>0?`${n}\\${i}`:`${n}\\`:n+i}export{v as normalize};
//normalize.mjs.map